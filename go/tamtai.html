<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tam Tai Th·ªã Phi - Tra C·ª©u Tu·ªïi Can Chi 2025</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #e0e0ff;
            font-family: 'Roboto', sans-serif;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        #particles { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
        .particle {
            position: absolute;
            background: rgba(0, 255, 255, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 10px cyan;
            animation: float 10s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }

        header { text-align: center; padding: 50px 20px; background: rgba(0,0,0,0.5); border-bottom: 2px solid cyan; }
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            text-shadow: 0 0 20px cyan, 0 0 40px magenta;
            animation: neon 2s infinite alternate;
        }
        @keyframes neon { from { text-shadow: 0 0 10px cyan; } to { text-shadow: 0 0 30px cyan, 0 0 50px magenta; } }

        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,255,255,0.3);
            backdrop-filter: blur(10px);
        }

        section { margin-bottom: 40px; padding: 25px; border: 1px solid rgba(0,255,255,0.4); border-radius: 12px; background: rgba(0,0,0,0.35); }
        h2 { color: cyan; text-shadow: 0 0 10px cyan; margin-bottom: 20px; }

        .lookup-form { text-align: center; padding: 35px; background: rgba(0,0,0,0.45); border-radius: 15px; }
        input[type="number"] {
            padding: 14px;
            width: 220px;
            border: 2px solid cyan;
            background: rgba(0,0,0,0.6);
            color: white;
            border-radius: 10px;
            font-size: 1.2em;
            text-align: center;
        }
        button {
            margin-top: 20px;
            padding: 14px 40px;
            background: linear-gradient(45deg, cyan, magenta);
            border: none;
            color: black;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0,255,255,0.7);
            transition: all 0.3s;
        }
        button:hover { transform: scale(1.08); box-shadow: 0 0 35px rgba(255,0,255,0.9); }

        #result {
            margin-top: 30px;
            padding: 25px;
            border-radius: 12px;
            font-size: 1.35em;
            background: rgba(0,0,0,0.6);
            display: none;
            animation: glow 1.8s infinite alternate;
            line-height: 1.6;
        }
        @keyframes glow { from { box-shadow: 0 0 10px cyan; } to { box-shadow: 0 0 35px magenta; } }

        .info-line { margin: 12px 0; }
        .highlight { color: #ffeb3b; font-weight: bold; }
        .danger { color: #ff5252; font-weight: bold; }
        .safe { color: #64ff64; font-weight: bold; }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 14px; border: 1px solid cyan; text-align: center; }
        th { background: rgba(0,255,255,0.25); }

        footer { text-align: center; padding: 30px; color: #aaa; font-size: 0.95em; }
    </style>
</head>
<body>
    <div id="particles"></div>

    <header>
        <h1>TAM TAI TH·ªä PHI</h1>
        <p>Tra C·ª©u Tu·ªïi Can Chi & Chu K·ª≥ Tam Tai - C·∫≠p nh·∫≠t 2025</p>
    </header>

    <div class="container">

        <section>
            <h2>üîç Tra C·ª©u Tam Tai Theo NƒÉm Sinh</h2>
            <div class="lookup-form">
                <input type="number" id="birthYear" placeholder="NƒÉm sinh (VD: 1995)" min="1900" max="2100">
                <br>
                <button onclick="checkTamTai()">TRA C·ª®U NGAY</button>
                <div id="result"></div>
            </div>
        </section>

        <section id="current-info">
            <h2>T√¨nh h√¨nh Tam Tai nƒÉm hi·ªán t·∫°i (<span id="currentYearTop"></span>)</h2>
            <p id="current-status">ƒêang t√≠nh to√°n...</p>
        </section>

        <section>
            <h2>Tam Tai L√† G√¨?</h2>
            <p>Tam Tai l√† 3 nƒÉm h·∫°n li√™n ti·∫øp theo nh√≥m Tam H·ª£p, th∆∞·ªùng g·∫∑p kh√≥ khƒÉn, th·ªã phi, hao t√†i. N√™n tr√°nh:</p>
            <ul style="margin-left: 25px; line-height: 1.8;">
                <li>X√¢y s·ª≠a, ƒë·ªông th·ªï nh√† c·ª≠a l·ªõn</li>
                <li>ƒê·∫ßu t∆∞ m·∫°o hi·ªÉm, vay n·ª£ l·ªõn</li>
                <li>Tranh ch·∫•p, ki·ªán t·ª•ng, n√≥i l·ªùi n·∫∑ng n·ªÅ</li>
            </ul>
        </section>

        <section>
            <h2>C√°c Nh√≥m Tu·ªïi & Chu K·ª≥ Tam Tai (Chu·∫©n Phong Th·ªßy)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Nh√≥m tu·ªïi (Tam H·ª£p)</th>
                        <th>Chu k·ª≥ Tam Tai (3 nƒÉm)</th>
                        <th>ƒê·∫∑c ƒëi·ªÉm h·∫°n ch√≠nh</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Th√¢n - T√Ω - Th√¨n</td><td>D·∫ßn - M√£o - Th√¨n</td><td>Th·ªã phi, ki·ªán t·ª•ng, c√¥ng vi·ªác tr·ª•c tr·∫∑c, hao t√†i</td></tr>
                    <tr><td>D·∫ßn - Ng·ªç - Tu·∫•t</td><td>Th√¢n - D·∫≠u - Tu·∫•t</td><td>Hao t√†i t·ªën c·ªßa, ph√° s·∫£n, tai n·∫°n ƒë∆∞·ªùng xa</td></tr>
                    <tr><td>H·ª£i - M√£o - M√πi</td><td>T·ªµ - Ng·ªç - M√πi</td><td>Th·ªã phi, tranh ch·∫•p, s·ª©c kh·ªèe suy gi·∫£m, ƒë∆∞·ªùng xa tr·∫Øc tr·ªü</td></tr>
                    <tr><td>T·ªµ - D·∫≠u - S·ª≠u</td><td>H·ª£i - T√Ω - S·ª≠u</td><td>Tai n·∫°n ƒë∆∞·ªùng xa, s·ª©c kh·ªèe k√©m, t√†i l·ªôc hao h·ª•t</td></tr>
                </tbody>
            </table>
            <p style="margin-top:15px; font-size:0.95em; color:#aaa;">NƒÉm 2025 (·∫§t T·ªµ): Nh√≥m H·ª£i - M√£o - M√πi ƒëang g·∫∑p nƒÉm ƒë·∫ßu Tam Tai (v·∫≠n h·∫°n nh·∫π, nh∆∞ng c·∫ßn c·∫©n tr·ªçng).</p>
        </section>

    </div>

    <footer>
        ¬© 2025 | D·ªØ li·ªáu chu·∫©n phong th·ªßy Vi·ªát Nam - Ch·ªâ mang t√≠nh tham kh·∫£o
    </footer>

    <script>
        // Particle background
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 80; i++) {
            const p = document.createElement('div');
            p.classList.add('particle');
            p.style.width = p.style.height = `${Math.random() * 16 + 5}px`;
            p.style.left = `${Math.random() * 100}vw`;
            p.style.animationDelay = `${Math.random() * 15}s`;
            p.style.animationDuration = `${Math.random() * 20 + 12}s`;
            particlesContainer.appendChild(p);
        }

        // D·ªØ li·ªáu Can Chi
        const can = ["Gi√°p", "·∫§t", "B√≠nh", "ƒêinh", "M·∫≠u", "K·ª∑", "Canh", "T√¢n", "Nh√¢m", "Qu√Ω"];
        const chi = ["T√Ω", "S·ª≠u", "D·∫ßn", "M√£o", "Th√¨n", "T·ªµ", "Ng·ªç", "M√πi", "Th√¢n", "D·∫≠u", "Tu·∫•t", "H·ª£i"];

        // D·ªØ li·ªáu Tam Tai CHU·∫®N 2025 (theo Tam H·ª£p)
        const tamTaiGroups = [
            {
                groupName: "Th√¢n - T√Ω - Th√¨n",
                tamTaiChi: ["D·∫ßn", "M√£o", "Th√¨n"],
                indices: [2, 3, 4],
                description: "Th·ªã phi, ki·ªán t·ª•ng, c√¥ng vi·ªác tr·ª•c tr·∫∑c, hao t√†i"
            },
            {
                groupName: "D·∫ßn - Ng·ªç - Tu·∫•t",
                tamTaiChi: ["Th√¢n", "D·∫≠u", "Tu·∫•t"],
                indices: [8, 9, 10],
                description: "Hao t√†i t·ªën c·ªßa, ph√° s·∫£n, tai n·∫°n ƒë∆∞·ªùng xa"
            },
            {
                groupName: "H·ª£i - M√£o - M√πi",
                tamTaiChi: ["T·ªµ", "Ng·ªç", "M√πi"],
                indices: [5, 6, 7],
                description: "Th·ªã phi, tranh ch·∫•p, s·ª©c kh·ªèe suy gi·∫£m, ƒë∆∞·ªùng xa tr·∫Øc tr·ªü"
            },
            {
                groupName: "T·ªµ - D·∫≠u - S·ª≠u",
                tamTaiChi: ["H·ª£i", "T√Ω", "S·ª≠u"],
                indices: [11, 0, 1],
                description: "Tai n·∫°n ƒë∆∞·ªùng xa, s·ª©c kh·ªèe k√©m, t√†i l·ªôc hao h·ª•t"
            }
        ];

        function getCanChi(year) {
            return `${can[year % 10]} ${chi[year % 12]}`;
        }

        function getTamTaiGroup(birthChiIndex) {
            return tamTaiGroups.find(g => g.indices.includes(birthChiIndex));
        }

        function getTamTaiYears(currentYear, birthChiIndex) {
            const group = getTamTaiGroup(birthChiIndex);
            if (!group) return null;

            const cycleStartChi = group.indices[0];
            let offset = (currentYear % 12 - cycleStartChi + 12) % 12;
            let startYear = currentYear - offset;

            // ƒêi·ªÅu ch·ªânh ƒë·ªÉ l·∫•y chu k·ª≥ ƒëang di·ªÖn ra ho·∫∑c g·∫ßn nh·∫•t/s·∫Øp t·ªõi
            if (startYear + 2 < currentYear - 1) startYear += 12;
            if (startYear > currentYear + 3) startYear -= 12;

            const years = [startYear, startYear + 1, startYear + 2];

            return {
                years,
                canChiYears: years.map(y => getCanChi(y)),
                groupName: group.groupName,
                tamTaiChiText: group.tamTaiChi.join(" - "),
                description: group.description
            };
        }

        function isInTamTai(currentYear, tamTaiYears) {
            return currentYear >= tamTaiYears[0] && currentYear <= tamTaiYears[2];
        }

        function getCurrentYearStatus() {
            const now = new Date().getFullYear();
            const chiIndex = now % 12;
            const group = tamTaiGroups.find(g => g.indices.includes(chiIndex));

            if (group) {
                const yearInCycle = now - (now - (now % 12 - group.indices[0] + 12) % 12);
                const pos = ["ƒë·∫ßu", "gi·ªØa (n·∫∑ng nh·∫•t)", "cu·ªëi"][now - yearInCycle];
                return `NƒÉm <span class="highlight">${now} (·∫§t T·ªµ)</span>: Nh√≥m <strong class="danger">${group.groupName}</strong> ƒëang ph·∫°m Tam Tai nƒÉm ${pos} (${group.description})`;
            }
            return `NƒÉm <span class="highlight">${now}</span>: <strong class="safe">Kh√¥ng nh√≥m tu·ªïi n√†o ph·∫°m Tam Tai</strong>`;
        }

        // Kh·ªüi t·∫°o
        const currentYear = new Date().getFullYear();
        document.getElementById('currentYear').textContent = currentYear;
        document.getElementById('currentYearTop').textContent = currentYear;
        document.getElementById('current-status').innerHTML = getCurrentYearStatus();

        function checkTamTai() {
            const input = document.getElementById('birthYear');
            const resultDiv = document.getElementById('result');
            const year = parseInt(input.value);

            if (!year || year < 1900 || year > 2100) {
                resultDiv.innerHTML = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p nƒÉm sinh t·ª´ 1900 ƒë·∫øn 2100!";
                resultDiv.style.color = "#ff5252";
                resultDiv.style.display = "block";
                return;
            }

            const canchi = getCanChi(year);
            const chiIndex = year % 12;
            const info = getTamTaiYears(currentYear, chiIndex);

            if (!info) {
                resultDiv.innerHTML = "Kh√¥ng t√¨m th·∫•y nh√≥m Tam Tai!";
                resultDiv.style.color = "#ff5252";
                resultDiv.style.display = "block";
                return;
            }

            const { years, canChiYears, groupName, tamTaiChiText, description } = info;
            const isNow = isInTamTai(currentYear, years);
            const position = currentYear === years[0] ? "nƒÉm ƒë·∫ßu" : currentYear === years[1] ? "nƒÉm gi·ªØa (n·∫∑ng nh·∫•t)" : "nƒÉm cu·ªëi";

            let html = `
                <div class="info-line"><strong>Tu·ªïi:</strong> <span class="highlight">${canchi}</span> (${year})</div>
                <div class="info-line"><strong>Nh√≥m:</strong> ${groupName}</div>
                <div class="info-line"><strong>Tam Tai:</strong> ${tamTaiChiText}</div>
                <div class="info-line"><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> ${description}</div>
                <div class="info-line"><strong>Chu k·ª≥ g·∫ßn nh·∫•t/s·∫Øp t·ªõi:</strong> ${years[0]} ‚Äì ${years[2]}</div>
                <hr style="border-color:rgba(0,255,255,0.3);margin:15px 0;">
            `;

            html += '<div class="info-line"><strong>Chi ti·∫øt:</strong></div>';
            years.forEach((y, i) => {
                const mark = y === currentYear ? ' ‚Üí <span class="danger">HI·ªÜN T·∫†I</span>' : '';
                html += `<div class="info-line">‚Ä¢ ${y} (${canChiYears[i]})${mark}</div>`;
            });

            html += '<br>';

            if (isNow) {
                html += `<p class="danger" style="font-size:1.4em;margin-top:15px;">üö® B·∫†N ƒêANG PH·∫†M TAM TAI ${position.toUpperCase()} NƒÇM ${currentYear} !</p>
                         <p style="color:#ff9800;">C·∫©n tr·ªçng ƒë·∫ßu t∆∞, x√¢y d·ª±ng, tranh ch·∫•p. Gi·ªØ t√¢m an, tr√°nh n√≥ng gi·∫≠n. N√™n c√∫ng gi·∫£i h·∫°n h√†ng th√°ng.</p>`;
            } else {
                html += `<p class="safe" style="font-size:1.3em;margin-top:15px;">‚úÖ NƒÉm ${currentYear} b·∫°n KH√îNG ph·∫°m Tam Tai</p>`;
            }

            resultDiv.innerHTML = html;
            resultDiv.style.color = isNow ? "#ff5252" : "#64ff64";
            resultDiv.style.display = "block";

            // Hi·ªáu ·ª©ng particle
            const color = isNow ? "rgba(255,80,80,0.8)" : "rgba(100,255,100,0.7)";
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.left = `${Math.random()*100}vw`;
                p.style.top = `${Math.random()*100}vh`;
                p.style.background = color;
                p.style.animationDuration = "1.6s";
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 2000);
            }
        }
    </script>
</body>
</html>
