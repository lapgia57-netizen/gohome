<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tam Tai Th·ªã Phi - Tra C·ª©u Tu·ªïi Can Chi</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #e0e0ff;
            font-family: 'Roboto', sans-serif;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        #particles { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
        .particle {
            position: absolute;
            background: rgba(0, 255, 255, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 10px cyan;
            animation: float 10s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }

        header { text-align: center; padding: 50px 20px; background: rgba(0,0,0,0.5); border-bottom: 2px solid cyan; }
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            text-shadow: 0 0 20px cyan, 0 0 40px magenta;
            animation: neon 2s infinite alternate;
        }
        @keyframes neon { from { text-shadow: 0 0 10px cyan; } to { text-shadow: 0 0 30px cyan, 0 0 50px magenta; } }

        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,255,255,0.3);
            backdrop-filter: blur(10px);
        }

        section { margin-bottom: 40px; padding: 25px; border: 1px solid rgba(0,255,255,0.4); border-radius: 12px; background: rgba(0,0,0,0.35); }
        h2 { color: cyan; text-shadow: 0 0 10px cyan; margin-bottom: 20px; }

        .lookup-form { text-align: center; padding: 35px; background: rgba(0,0,0,0.45); border-radius: 15px; }
        input[type="number"] {
            padding: 14px;
            width: 220px;
            border: 2px solid cyan;
            background: rgba(0,0,0,0.6);
            color: white;
            border-radius: 10px;
            font-size: 1.2em;
            text-align: center;
        }
        button {
            margin-top: 20px;
            padding: 14px 40px;
            background: linear-gradient(45deg, cyan, magenta);
            border: none;
            color: black;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0,255,255,0.7);
            transition: all 0.3s;
        }
        button:hover { transform: scale(1.08); box-shadow: 0 0 35px rgba(255,0,255,0.9); }

        #result {
            margin-top: 30px;
            padding: 25px;
            border-radius: 12px;
            font-size: 1.35em;
            background: rgba(0,0,0,0.6);
            display: none;
            animation: glow 1.8s infinite alternate;
            line-height: 1.6;
        }
        @keyframes glow { from { box-shadow: 0 0 10px cyan; } to { box-shadow: 0 0 35px magenta; } }

        .info-line { margin: 12px 0; }
        .highlight { color: #ffeb3b; font-weight: bold; }
        .danger { color: #ff5252; font-weight: bold; }
        .safe { color: #64ff64; font-weight: bold; }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 14px; border: 1px solid cyan; text-align: center; }
        th { background: rgba(0,255,255,0.25); }

        footer { text-align: center; padding: 30px; color: #aaa; font-size: 0.95em; }
    </style>
</head>
<body>
    <div id="particles"></div>

    <header>
        <h1>TAM TAI TH·ªä PHI</h1>
        <p>Tra C·ª©u Tu·ªïi Can Chi & Chu K·ª≥ Tam Tai</p>
    </header>

    <div class="container">

        <section>
            <h2>üîç Tra C·ª©u Tam Tai Theo NƒÉm Sinh</h2>
            <div class="lookup-form">
                <input type="number" id="birthYear" placeholder="NƒÉm sinh (VD: 1995)" min="1900" max="2100">
                <br>
                <button onclick="checkTamTai()">TRA C·ª®U NGAY</button>
                <div id="result"></div>
            </div>
        </section>

        <section id="current-info">
            <h2>T√¨nh h√¨nh Tam Tai nƒÉm hi·ªán t·∫°i (<span id="currentYearTop"></span>)</h2>
            <p id="current-status">ƒêang t√≠nh to√°n...</p>
        </section>

        <section>
            <h2>Tam Tai L√† G√¨?</h2>
            <p>Tam Tai l√† 3 nƒÉm h·∫°n li√™n ti·∫øp theo tu·ªïi Can Chi, th∆∞·ªùng g·∫∑p kh√≥ khƒÉn, th·ªã phi, hao t√†i t·ªën c·ªßa. N√™n tr√°nh:</p>
            <ul style="margin-left: 25px; line-height: 1.8;">
                <li>X√¢y s·ª≠a, ƒë·ªông th·ªï nh√† c·ª≠a l·ªõn</li>
                <li>ƒê·∫ßu t∆∞ m·∫°o hi·ªÉm, vay n·ª£ l·ªõn</li>
                <li>Tranh ch·∫•p, ki·ªán t·ª•ng, n√≥i l·ªùi n·∫∑ng n·ªÅ</li>
            </ul>
        </section>

        <!-- Gi·ªØ nguy√™n c√°c ph·∫ßn c√≤n l·∫°i: Nh√≥m tu·ªïi, H√≥a gi·∫£i... -->

        <section>
            <h2>C√°c Nh√≥m Tu·ªïi & Chu K·ª≥ Tam Tai</h2>
            <table>
                <thead>
                    <tr>
                        <th>Nh√≥m tu·ªïi</th>
                        <th>Chu k·ª≥ Tam Tai (3 nƒÉm li√™n ti·∫øp)</th>
                        <th>ƒê·∫∑c ƒëi·ªÉm ch√≠nh</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>H·ª£i - M√£o - M√πi</td><td>D·∫ßn - M√£o - Th√¨n</td><td>Th·ªã phi, tranh ch·∫•p, ki·ªán t·ª•ng</td></tr>
                    <tr><td>D·∫ßn - Ng·ªç - Tu·∫•t</td><td>Th√¢n - D·∫≠u - Tu·∫•t</td><td>Hao t√†i, ph√° s·∫£n, ki·ªán c√°o</td></tr>
                    <tr><td>T·ªµ - D·∫≠u - S·ª≠u</td><td>H·ª£i - T√Ω - S·ª≠u</td><td>S·ª©c kh·ªèe, t√†i l·ªôc, ƒë∆∞·ªùng xa</td></tr>
                </tbody>
            </table>
        </section>

    </div>

    <footer>
        ¬© 2025‚Äì<span id="currentYear"></span> | T√≠nh to√°n ƒë·ªông theo Can Chi - Blockchain Phong Th·ªßy
    </footer>

    <script>
        // Particle background
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 80; i++) {
            const p = document.createElement('div');
            p.classList.add('particle');
            p.style.width = p.style.height = `${Math.random() * 16 + 5}px`;
            p.style.left = `${Math.random() * 100}vw`;
            p.style.animationDelay = `${Math.random() * 15}s`;
            p.style.animationDuration = `${Math.random() * 20 + 12}s`;
            particlesContainer.appendChild(p);
        }

        // D·ªØ li·ªáu Can Chi
        const can = ["Gi√°p", "·∫§t", "B√≠nh", "ƒêinh", "M·∫≠u", "K·ª∑", "Canh", "T√¢n", "Nh√¢m", "Qu√Ω"];
        const chi = ["T√Ω", "S·ª≠u", "D·∫ßn", "M√£o", "Th√¨n", "T·ªµ", "Ng·ªç", "M√πi", "Th√¢n", "D·∫≠u", "Tu·∫•t", "H·ª£i"];

        // Nh√≥m Tam Tai theo chi (index 0-11)
        const tamTaiGroups = [
            { indices: [2,3,4], name: "D·∫ßn - M√£o - Th√¨n", group: "H·ª£i - M√£o - M√πi" },
            { indices: [8,9,10], name: "Th√¢n - D·∫≠u - Tu·∫•t", group: "D·∫ßn - Ng·ªç - Tu·∫•t" },
            { indices: [11,0,1], name: "H·ª£i - T√Ω - S·ª≠u", group: "T·ªµ - D·∫≠u - S·ª≠u" }
        ];

        function getCanChi(year) {
            return `${can[year % 10]} ${chi[year % 12]}`;
        }

        function getTamTaiCycle(birthChiIndex) {
            for (const group of tamTaiGroups) {
                if (group.indices.includes(birthChiIndex)) {
                    return {
                        tamTaiChiIndices: group.indices,
                        tamTaiChiText: group.name,
                        groupName: group.group
                    };
                }
            }
            return null;
        }

        function getTamTaiYears(currentYear, birthChiIndex) {
            const cycleInfo = getTamTaiCycle(birthChiIndex);
            if (!cycleInfo) return null;

            const { tamTaiChiIndices } = cycleInfo;

            // T√¨m nƒÉm Tam Tai g·∫ßn nh·∫•t (c√≥ th·ªÉ ƒëang di·ªÖn ra ho·∫∑c v·ª´a qua)
            let yearDiff = (currentYear % 12 - tamTaiChiIndices[0] + 12) % 12;
            let tamTaiStartYear = currentYear - yearDiff;

            // N·∫øu chu k·ª≥ v·ª´a qua r·ªìi th√¨ l·∫•y chu k·ª≥ ti·∫øp theo
            if (tamTaiStartYear + 2 < currentYear) {
                tamTaiStartYear += 12;
            }

            const years = [
                tamTaiStartYear,
                tamTaiStartYear + 1,
                tamTaiStartYear + 2
            ];

            return {
                years,
                canChiYears: years.map(y => getCanChi(y)),
                groupName: cycleInfo.groupName,
                tamTaiChiText: cycleInfo.tamTaiChiText
            };
        }

        function isCurrentYearInTamTai(currentYear, tamTaiYears) {
            return currentYear >= tamTaiYears[0] && currentYear <= tamTaiYears[2];
        }

        function getCurrentYearTamTaiStatus() {
            const now = new Date().getFullYear();
            const currentChiIndex = now % 12;
            
            const group = tamTaiGroups.find(g => g.indices.includes(currentChiIndex));
            
            if (group) {
                return `NƒÉm <span class="highlight">${now}</span>: Tu·ªïi <strong class="danger">${group.group}</strong> ƒëang ph·∫°m Tam Tai`;
            }
            return `NƒÉm <span class="highlight">${now}</span>: <strong class="safe">Kh√¥ng tu·ªïi n√†o ph·∫°m Tam Tai l·ªõn</strong>`;
        }

        // Kh·ªüi t·∫°o
        const currentYear = new Date().getFullYear();
        document.getElementById('currentYear').textContent = currentYear;
        document.getElementById('currentYearTop').textContent = currentYear;
        document.getElementById('current-status').innerHTML = getCurrentYearTamTaiStatus();

        function checkTamTai() {
            const input = document.getElementById('birthYear');
            const result = document.getElementById('result');
            const year = parseInt(input.value);

            if (!year || year < 1900 || year > 2100) {
                result.innerHTML = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p nƒÉm sinh t·ª´ 1900 ƒë·∫øn 2100!";
                result.style.color = "#ff5252";
                result.style.display = "block";
                return;
            }

            const canchi = getCanChi(year);
            const birthChiIndex = year % 12;
            const tamTaiInfo = getTamTaiYears(currentYear, birthChiIndex);

            if (!tamTaiInfo) {
                result.innerHTML = "Kh√¥ng t√¨m th·∫•y th√¥ng tin nh√≥m Tam Tai!";
                result.style.color = "#ff5252";
                result.style.display = "block";
                return;
            }

            const { years, canChiYears, groupName, tamTaiChiText } = tamTaiInfo;
            const isNow = isCurrentYearInTamTai(currentYear, years);

            let html = `
                <div class="info-line"><strong>Tu·ªïi:</strong> <span class="highlight">${canchi}</span> (${year})</div>
                <div class="info-line"><strong>Nh√≥m tu·ªïi:</strong> ${groupName}</div>
                <div class="info-line"><strong>Tam Tai:</strong> ${tamTaiChiText}</div>
                <div class="info-line"><strong>Chu k·ª≥ g·∫ßn nh·∫•t/s·∫Øp t·ªõi:</strong> ${years[0]} ‚Äì ${years[2]}</div>
                <hr style="border-color:rgba(0,255,255,0.3);margin:15px 0;">
            `;

            html += '<div class="info-line"><strong>Chi ti·∫øt c√°c nƒÉm:</strong></div>';
            years.forEach((y, i) => {
                const isThisYear = y === currentYear;
                const mark = isThisYear ? ' ‚Üí <span class="danger">HI·ªÜN T·∫†I</span>' : '';
                html += `<div class="info-line">‚Ä¢ ${y} (${canChiYears[i]})${mark}</div>`;
            });

            html += '<br>';

            if (isNow) {
                html += `<p class="danger" style="font-size:1.4em;margin-top:15px;">üö® B·∫†N ƒêANG PH·∫†M TAM TAI NƒÇM ${currentYear} !</p>
                         <p style="color:#ff9800;">N√™n c·∫©n tr·ªçng ƒë·∫ßu t∆∞, x√¢y d·ª±ng, tranh ch·∫•p. Gi·ªØ t√¢m an, tr√°nh n√≥ng gi·∫≠n.</p>`;
            } else {
                html += `<p class="safe" style="font-size:1.3em;margin-top:15px;">‚úÖ NƒÉm nay (${currentYear}) b·∫°n KH√îNG ph·∫°m Tam Tai</p>`;
            }

            result.innerHTML = html;
            result.style.color = isNow ? "#ff5252" : "#64ff64";
            result.style.display = "block";

            // Hi·ªáu ·ª©ng particle ch·ªõp nho√°ng
            const particleColor = isNow ? "rgba(255,80,80,0.8)" : "rgba(100,255,100,0.7)";
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.left = `${Math.random()*100}vw`;
                p.style.top = `${Math.random()*100}vh`;
                p.style.background = particleColor;
                p.style.animationDuration = "1.6s";
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 2000);
            }
        }
    </script>
</body>
</html>
